---
layout: default
---
{% assign knowhow = site.knowhow %}

{% comment %}
   assign 0 to i in order to start the string from the beginning
{% endcomment %}

{% assign i = 0 %}


{% comment %} 
  Layout of the left's TOC 
{% endcomment %}

<div class="blocantiscroll col-md-2">
  <h2>Knowhow</h2>
  <ol class="test">

    {% comment %}
       Sort the pages with the tag "main-categ", add each keyword to the string "list-cat" 
    {% endcomment %} 

    {% assign list-cat = knowhow |map: 'main-categ' |uniq %}

    {% comment %} 
      loop through the size of the list 
    {% endcomment %}

    {% for i in (0..list-cat.size) %}
    {% for ipage in knowhow %}

    {% comment %} 
      if page.categories match a "main-page", in order to display the button with the correct Headline , they are BestPractices-ProtectingYouself, CISOApproach & SOS 
    {% endcomment %}

    {% if ipage.categories contains list-cat[i] %}

    {% comment %} 
        the other pages have a F-"list-cat" as a categorie to recognize them
         We add each categorie to a "F-" 
    {% endcomment %}

  {% assign f-cat = "f-"|append: list-cat[i] %}

  {% comment %} 
    then we add each categorie to "#" in order to have the right ID 
  {% endcomment %}

  {% assign id-cat = "#"|append: list-cat[i] %}

  {% comment %} 
    then we add each categorie to "collapseExample-" ans "collapse-" in order to have the right event 
  {% endcomment %}

  {% assign aria-cat = "collapseExample-"|append: list-cat[i] %}
  {% assign class-cat = "collapse-"|append: list-cat[i] %}


  {% if page.categories contains f-cat or page.categories contains list-cat[i] %}
  <button class="btn-category show" id="btncat{{ aria-cat }}" type="button" data-toggle="collapse" data-target="#{{ aria-cat }}"  aria-expanded="true" aria-controls="{{ aria-cat }}">
    <h6 class="title-blue"><span id="arrow-bullet{{ aria-cat }}">&#9662;</span>

      {% else %} 

      <button class="btn-category" id="btncat{{ aria-cat }}" type="button" data-toggle="collapse" data-target="#{{ aria-cat }}"  aria-expanded="false" aria-controls="{{ aria-cat }}">
        <h6 class="title-blue"><span id="arrow-bullet{{ aria-cat }}">&#9656;</span>

          {% endif %}
          <i class="title-blue">{{ ipage.title }}</i></h6>
        </button>

        <script>

//change bullet if it's event "show" or not 
document.getElementById("btncat{{ aria-cat }}").onclick = function () 
{
  if (document.getElementById('btncat{{ aria-cat }}').classList.toggle("show"))
  {
    document.getElementById('arrow-bullet{{ aria-cat }}').innerHTML ='&#9662;';
  }
  else
  {
    document.getElementById('arrow-bullet{{ aria-cat }}').innerHTML ='&#9656;';
  }  
}

</script>
<span>

  {% if page.categories contains f-cat or page.categories contains list-cat[i] %}
  <div class="{{ class-cat }} collapse in"  id="{{ aria-cat }}" expanded="true">
    {% else %}
    <div class="{{ class-cat }} collapse"  id="{{ aria-cat }}" expanded="false">
      {% endif %}
      {% for ipage in site.knowhow %}


      {% comment %}
         if page.categories equals "f-cat" it means that it isn't a button, so it displays the right page
      {% endcomment %}
      
      {% if ipage.categories contains f-cat %}
      <li style="list-style: none;">
        <a href="{{ipage.url | relative_url}}">
          <h6 class="list-select">&#9657; {{ ipage.title }}</h6>
        </a>
      </li>
      {% endif %}

      {% endfor %}
    </div></span>
    {% endif %}

    {% endfor %}
    {% endfor %}

  </ol>


</div>


<div class="col-md-8">
 <div class="row-fluid row-fluid--padding">

  <div>
    {{ content | inject_anchors }}
  </div>

</div>

</div>

<div class="blocantiscroll col-md-2">
  <h2>Table of Content</h2>
  {% if page.layout == "knowhow" %}
  {{content | toc_only}}
  {% endif %}
</div>


